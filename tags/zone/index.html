<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <title>
    Zone // Michael im Netz
  </title>

  <link href="http://gmpg.org/xfn/11" rel="profile">
<meta http-equiv="content-type" content="text/html; charset=utf-8">


<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

<meta name="description" content="">
<meta name="keywords" content="">
<meta name="author" content="">
<meta name="generator" content="Hugo 0.15-DEV" />

  <meta property="og:title" content="Zone" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:locale" content="en_US" />
<meta property="og:url" content="https://0rph3us.github.io/tags/zone/" />


  
  <link rel="stylesheet" href="https://0rph3us.github.io/css/base-0.5-min.css">
  <link rel="stylesheet" href="https://0rph3us.github.io/css/pure-0.5-min.css">
  
  
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/grids-responsive-min.css">
  
  

  <link rel="stylesheet" href="https://0rph3us.github.io/css/redlounge.css">
  <link rel="stylesheet" href="https://0rph3us.github.io/css/categories.css">
  <link rel="stylesheet" href="https://0rph3us.github.io/css/font-awesome.min.css">
  <link href='//fonts.googleapis.com/css?family=Raleway:400,200,100,700,300,500,600,800' rel='stylesheet' type='text/css'>
  <link href='//fonts.googleapis.com/css?family=Libre+Baskerville:400,700,400italic' rel='stylesheet' type='text/css'>

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  <link href="https://0rph3us.github.io/tags/zone/index.xml" rel="alternate" type="application/rss+xml" title="Michael im Netz" />

    
  
  <link rel="stylesheet" href="https://0rph3us.github.io/css/solarized_light-8.4.min.css">
  
  <script src="https://0rph3us.github.io/css/highlight-8.4.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>


  

  

  
</head>

<body>
	<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
  <div class="header">
    

    <h1 class="brand-title">Michael Rennecke</h1>
    <h2 class="brand-tagline">Meine Gedanken zu Sicherheit, Linux und Random Stuff</h2>

    <nav class="nav">
      <ul class="nav-list">
        <li class="nav-item"><span class="nav-item-separator">//</span><a href="https://0rph3us.github.io">Home</a></li>
        
          <li class="nav-item"><span class="nav-item-separator">//</span><a href="/about/">Über mich</a></li>
        
          <li class="nav-item"><span class="nav-item-separator">//</span><a href="/links/">Links</a></li>
        
          <li class="nav-item"><span class="nav-item-separator">//</span><a href="/spickzettel/">Spickzettel</a></li>
        
      </ul>
    </nav>

    
    <div class="social-buttons">
      
        
        <a href="https://github.com/0rph3us" target="_blank"><i class='fa fa-github'></i></a>
        
      
        
        <a href="/rss/index.xml" target="_blank"><i class='fa fa-rss'></i></a>
        
      
      
    </div>
    

  </div>
</div>


    <div class="content pure-u-1 pure-u-md-3-4">
      <a name="top"></a>
      

      <div class="posts">
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2010/04/eigenschaften-von-zonen/">Eigenschaften von Zonen</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>22</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Apr</span> <span class="post-date-year">2010</span>
		          </span>
      				
      				
      					
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>2 Min. lesen</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-solaris" href="https://0rph3us.github.io/categories/solaris">Solaris</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Ich wurde in Bezug auf diesen Blog-Eintrag gefragt, was es f&uuml;r Zoneneigenschaften gibt, welche man f&uuml;r Regelmentierungen verwenden kann. Als ersten m&ouml;chte ich zeigen, wie man den Hauptspeicher limitieren kann. root@global$ zonecfg -z myzone zonecfg:myzone add capped-memory zonecfg:myzone:capped-memory set physical=500m zonecfg:myzone:capped-memory set swap=1g zonecfg:myzone:capped-memory set locked=100m zonecfg:myzone:capped-memory end zonecfg:myzone exit physical Hierbei handelt es sich um eine Limitierung des physischen Hauptspeicher. Wenn mehr Speicher angefordert wird, dann kann dieser ausgelagert werden.
            </article>
			<div class="read-more-link">
				<a href="/post/2010/04/eigenschaften-von-zonen/"><span class="read-more-slashes">//</span>Weiter...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2010/04/eine-zone-in-10-minuten/">Eine Zone in 10 Minuten</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>15</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Apr</span> <span class="post-date-year">2010</span>
		          </span>
      				
      				
      					
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>4 Min. lesen</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-solaris" href="https://0rph3us.github.io/categories/solaris">Solaris</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Ich kam gestern in die Verlegenheit mal schnell eine Zone aufsetzten zu müssen. Ich dachte mir, wenn ich das mal schnell mache, dann wenigsten mit RAM-Quota und CPU-Begrenzung. Es kann evtl. sein, dass man pkg:/service/resource installieren muss. Dieses Paket ist f&uuml;r die Verwaltung von RAM-Resourcen zust&auml;ndig. Ressourcenpools anstellen rennecke@walhalla ~ % pfexec pooladm -e Aktuelle Konfiguration in der /etc/pooladm.conf sichern rennecke@walhalla ~ % pfexec pooladm -s Nun erstellen wir einen Pool mit einem CPU-Set, welches über maximal 2 CPUs verfügt rennecke@walhalla ~ % pfexec poolcfg -c 'create pset zone-pset (uint pset.min=1; uint pset.max=2)' rennecke@walhalla ~ % pfexec poolcfg -c 'create pool zone-pool' rennecke@walhalla ~ % pfexec poolcfg -c 'associate pool zone-pool (pset zone-pset)' Als nächstes aktivieren wir die Konfiguration und speichern sie rennecke@walhalla ~ % pfexec pooladm -c rennecke@walhalla ~ % pfexec pooladm -s rennecke@walhalla ~ % pfexec pooladm system default string system.comment int system.version 1 boolean system.bind-default true string system.poold.objectives wt-load pool zone-pool int pool.sys_id 1 boolean pool.active true boolean pool.default false int pool.importance 1 string pool.comment pset zone-pset pool pool_default int pool.sys_id 0 boolean pool.active true boolean pool.default true int pool.importance 1 string pool.comment pset pset_default pset zone-pset int pset.sys_id 1 boolean pset.default false uint pset.min 1 uint pset.max 2 string pset.units population uint pset.load 5 uint pset.size 2 string pset.comment cpu int cpu.sys_id 1 string cpu.comment string cpu.status on-line cpu int cpu.sys_id 0 string cpu.comment string cpu.status on-line pset pset_default int pset.sys_id -1 boolean pset.default true uint pset.min 1 uint pset.max 65536 string pset.units population uint pset.load 562 uint pset.size 2 string pset.comment cpu int cpu.sys_id 3 string cpu.comment string cpu.status on-line cpu int cpu.sys_id 2 string cpu.comment string cpu.status on-line Nun kommen wir zum eigenlichen erstellen der Zone rennecke@walhalla ~ % pfexec zonecfg -z zone1 zone1: No such zone configured Use 'create' to begin configuring a new zone.
            </article>
			<div class="read-more-link">
				<a href="/post/2010/04/eine-zone-in-10-minuten/"><span class="read-more-slashes">//</span>Weiter...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2010/02/zonen-retten/">Zonen retten</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>19</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Feb</span> <span class="post-date-year">2010</span>
		          </span>
      				
      				
      					
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>2 Min. lesen</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-solaris" href="https://0rph3us.github.io/categories/solaris">Solaris</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Ich habe mir vor einigen Wochen meine Systemplatten zerstört. Das hat mich noch nicht sonderlich gestört. Denn man kann OpenSolaris sehr schnell wieder installieren. Von den ganzen Konfigurationen hatte ich ein Backup. Ein kleineres Problem hatte ich mit den Zonen. Sie ließen sich nicht ohne weiteres im neuen System importieren. Ein möglicher Grund ist, dass ich sie nicht detachet hatte und die Zoneroots hatte ich auch nicht mehr. Der Fehler hat sich wie folgt geäußert: rennecke@walhalla ~ $ pfexec zoneadm -z test attach -u Log File: /var/tmp/test.attach_log.KvayPK ERROR: no active dataset.
            </article>
			<div class="read-more-link">
				<a href="/post/2010/02/zonen-retten/"><span class="read-more-slashes">//</span>Weiter...</a>
			</div>
          </section>
        
          <section  class="post">
            <header class="post-header">
            
            <h1 class="post-title">
              <a href="/post/2009/09/hotplug-von-devices-in-zonen/">Hotplug von Devices in Zonen</a>
            </h1>
            </header>
            <p class="post-meta">
            	
		          <span class="post-date">
		            <span class="post-date-day"><sup>5</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Sep</span> <span class="post-date-year">2009</span>
		          </span>
      				
      				
      					
      				
              
                <span class="post-reading-time"><i class="fa fa-clock-o"></i> <em>1 Min. lesen</em></span>
              
      				
      					<div class="post-categories">
				        
      					
					        <a class="post-category post-category-solaris" href="https://0rph3us.github.io/categories/solaris">Solaris</a>
      					
      					</div>
      				
            </p>
            <article class="post-summary">
            	Manchmal ist erforderlich, dass man einer Zone den Zugriff auf ein Device gewährt. Ich habe z.B. einer Zone mein externes LTO-2 Bandlaufwerk gegeben. Dieses ist über SCSI mit dem Rechner verbunden. Da ich Strom sparen möchte und SCSI hotplugfähig ist, schalte ich das Bandlaufwerk nur ein wenn ich es benötige. Damit man das Device unter Solaris in der global-Zone ansprechen kann, muss es wie folgt einbinden (mein Laufwerk ist an Controller c17 angeschlossen): cfgadm -c configure c17 root@walhalla ~ $ cfgadm -a c17 p_Id Type Receptacle Occupant Condition c17 scsi-bus connected configured unknown c17::rmt/0 tape connected configured unknown Wenn man in einer nonglobal-Zone ist geht dieses Verfahren nicht.
            </article>
			<div class="read-more-link">
				<a href="/post/2009/09/hotplug-von-devices-in-zonen/"><span class="read-more-slashes">//</span>Weiter...</a>
			</div>
          </section>
        
      </div>

      <div class="footer">
	<hr class="thin" />
	<div class="pure-menu pure-menu-horizontal pure-menu-open">
		<ul class="footer-menu">
		
		</ul>
	</div>

	<p>Diese Seite ist unter der <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a> lizenziert.</p>
</div>
    </div>
  </div>
  

</body>
</html>
