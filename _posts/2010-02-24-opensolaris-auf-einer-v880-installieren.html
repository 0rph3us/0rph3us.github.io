---
layout: post
title: OpenSolaris auf einer V880 installieren
categories:
- Solaris
tags:
- Netzwerk
- OpenSolaris
- Sparc
status: publish
type: post
published: true
meta:
  _edit_last: '2'
author:
  login: rennecke
  email: michael.rennecke@gmail.com
  display_name: Michael Rennecke
  first_name: Michael
  last_name: Rennecke
---
<p>Ich habe heute OpenSolaris auf einer <a href="http://sunsolve.sun.com/handbook_pub/validateUser.do?target=Systems/SunFire880/SunFire880">SunFire V880</a> installiert. Das ganze war nicht ganz so trivial wie ich mir das gedacht habe. Ich habe dazu den <a href="http://hub.opensolaris.org/bin/view/Project+caiman/TextInstallerProject">Textinstaller</a> benutzt. Diese basiert auf Build 131. Man kann sich das Image z.B. von <a href="http://www.genunix.org/">genunix.org</a> herunter laden.<br />
Hier war mein erster Fehler, ich hatte nich geprüft ob die Checksumme stimmt. Aber irgendwie wollte die Installation auch bei dem 3. Versuch nicht klappen. Die rettende Idee, war einmal die Checksumme vom Image zu bestimmen. Nun habe ich gesehen, dass diese nicht gestimmt hat.<br />
Nachdem ich ein ganze Image auf eine DVD gebrannt ließ sich OpenSolaris auch installieren. Das Netzwerk kann man zur Zeit nur via DHCP konfigurieren, was ich nicht wollte. Nachdem die Installation fertig war, habe ich mit <a href="https://blog.binfalse.de/">Martin</a> das Netzwerk konfiguriert.   Das macht man wie folgt:</p>
<pre lang="bash">jack@dijkstra ~ $  cat /etc/nwam/llp
eri0 dhcp
ge0 static 192.168.1.100/25
</pre>
<p>Die default-Route setzt man in der /etc/defaultrouter:</p>
<pre lang="bash">
jack@dijkstra ~ $  cat /etc/defaultrouter
192.168.1.126
</pre>
<p>Als nächstes stand das spiegeln des rpool auf den Plan. Dazu habe ich mit format -e der 2. Platte ein SMI-Label verpasst und die ganze Platte in Slice 0 gepackt.</p>
<pre lang="bash">jack@dijkstra ~ $ pfexec zpool attach -f rpool c1t0d0s0 c1t1d0s0</pre>
<p>Abschließend muss man noch die Platte bootbar machen:</p>
<pre lang="bash">jack@dijkstra ~ $ pfexec installboot -F zfs /usr/platform/`uname -i`/lib/fs/zfs/bootblk /dev/rdsk/c1t1d0s0</pre>
