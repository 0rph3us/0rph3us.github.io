---
layout: post
title: Kein Upload bei Wordpress
date: 2010-04-18
categories:
 - sonstiges
tags:
 - hack
 - mime-Type
 - problem
 - upload
 - wordpress
---
<p><a href="https://blog.binfalse.de/">Martin</a> hat mich darauf  aufmerksam gemacht, dass bei wordpress die Upload-Funktion für Dateien nicht funktioniert. Also habe ich es promt ausprobiert und siehe da es ging bei mir auch nicht. Die Fehlermeldung <strong>Fehler beim Upload der ausgewählten Datei</strong>. das hilft einen gar nicht weiter. Die Ursache war, dass man per default in wordpress nur bekannte Dateien hinzufügen darf. Also habe ich in der Datei <tt>wp-inludes/functions.php</tt> die <a href="http://www.iana.org/assignments/media-types/index.html">mime-Typen</a> etwas editiert:</p>
<pre lang="php">function get_allowed_mime_types() {
	static $mimes = false;

	if ( !$mimes ) {
		// Accepted MIME types are set here as PCRE unless provided
		$mimes = apply_filters( 'upload_mimes', array(
		'jpg|jpeg|jpe' => 'image/jpeg',
                ...
                'odf' => 'application/vnd.oasis.opendocument.formula',
		'.*' => 'text/plain', // hinzugefügt
		) );
	}

	return $mimes;
}
</pre>
